{"version":3,"file":"index.js","sources":["../../../src/progress/CircularProgress.tsx"],"sourcesContent":["import type { ReactNode } from \"react\";\nimport { forwardRef, useEffect, useState } from \"react\";\nimport type { CircularProgressProps as CircularProgressRootProps } from \"@nextui-org/react\";\nimport { CircularProgress as CircularProgressRoot } from \"@nextui-org/react\";\n\ntype AdditionalCircularProgressProps = {\n  autoIncrement?: boolean;\n  incrementInterval?: number;\n  incrementStep?: number;\n  onValueChange?: (value: number) => void;\n};\n\ntype CircularProgressProps = Omit<CircularProgressRootProps, \"classNames\"> &\n  AdditionalCircularProgressProps & {\n    classNames?: CircularProgressRootProps[\"classNames\"];\n  };\n\nconst defaultProps = {\n  color: \"primary\",\n  size: \"md\",\n  strokeWidth: 3,\n  showValueLabel: false,\n  formatOptions: { style: \"percent\" } as const,\n  value: 0,\n  minValue: 0,\n  maxValue: 100,\n} as const;\n\nconst defaultIncrementProps = {\n  autoIncrement: false,\n  incrementInterval: 500,\n  incrementStep: 10,\n} as const;\n\nexport const CircularProgress = forwardRef<\n  HTMLDivElement,\n  CircularProgressProps\n>(\n  (\n    {\n      // Auto-increment props\n      autoIncrement = defaultIncrementProps.autoIncrement,\n      incrementInterval = defaultIncrementProps.incrementInterval,\n      incrementStep = defaultIncrementProps.incrementStep,\n      onValueChange,\n\n      // NextUI props\n      value = defaultProps.value,\n      minValue = defaultProps.minValue,\n      maxValue = defaultProps.maxValue,\n      formatOptions = defaultProps.formatOptions,\n      valueLabel,\n      classNames,\n      showValueLabel,\n      color,\n      size,\n      ...nextUIProps\n    },\n    ref,\n  ) => {\n    const [currentValue, setCurrentValue] = useState(value);\n\n    useEffect(() => {\n      if (!autoIncrement) {\n        setCurrentValue(value);\n        return;\n      }\n\n      const interval = setInterval(() => {\n        setCurrentValue((v) => {\n          const newValue = v >= maxValue ? minValue : v + incrementStep;\n          onValueChange?.(newValue);\n          return newValue;\n        });\n      }, incrementInterval);\n\n      return () => clearInterval(interval);\n    }, [\n      autoIncrement,\n      value,\n      incrementInterval,\n      incrementStep,\n      maxValue,\n      minValue,\n      onValueChange,\n    ]);\n\n    const getValueLabel = (): ReactNode => {\n      if (valueLabel !== undefined) {\n        return valueLabel;\n      }\n\n      const percentage = (currentValue - minValue) / (maxValue - minValue);\n      return new Intl.NumberFormat(undefined, formatOptions).format(percentage);\n    };\n\n    const circularProgressProps = {\n      ...defaultProps,\n      ...nextUIProps,\n      ref,\n      value: currentValue,\n      minValue,\n      maxValue,\n      formatOptions,\n      valueLabel: getValueLabel(),\n      showValueLabel,\n      color,\n      size,\n      classNames,\n    };\n\n    return <CircularProgressRoot {...circularProgressProps} />;\n  },\n);\n\nCircularProgress.displayName = \"CircularProgress\";\n"],"names":["defaultProps","defaultIncrementProps","CircularProgress","forwardRef","autoIncrement","incrementInterval","incrementStep","onValueChange","value","minValue","maxValue","formatOptions","valueLabel","classNames","showValueLabel","color","size","nextUIProps","ref","currentValue","setCurrentValue","useState","useEffect","interval","v","newValue","circularProgressProps","percentage","jsx","CircularProgressRoot"],"mappings":";;;AAiBA,MAAMA,IAAe;AAAA,EACnB,OAAO;AAAA,EACP,MAAM;AAAA,EACN,aAAa;AAAA,EACb,gBAAgB;AAAA,EAChB,eAAe,EAAE,OAAO,UAAU;AAAA,EAClC,OAAO;AAAA,EACP,UAAU;AAAA,EACV,UAAU;AACZ,GAEMC,IAAwB;AAAA,EAC5B,eAAe;AAAA,EACf,mBAAmB;AAAA,EACnB,eAAe;AACjB,GAEaC,IAAmBC;AAAA,EAI9B,CACE;AAAA;AAAA,IAEE,eAAAC,IAAgBH,EAAsB;AAAA,IACtC,mBAAAI,IAAoBJ,EAAsB;AAAA,IAC1C,eAAAK,IAAgBL,EAAsB;AAAA,IACtC,eAAAM;AAAA;AAAA,IAGA,OAAAC,IAAQR,EAAa;AAAA,IACrB,UAAAS,IAAWT,EAAa;AAAA,IACxB,UAAAU,IAAWV,EAAa;AAAA,IACxB,eAAAW,IAAgBX,EAAa;AAAA,IAC7B,YAAAY;AAAA,IACA,YAAAC;AAAA,IACA,gBAAAC;AAAA,IACA,OAAAC;AAAA,IACA,MAAAC;AAAA,IACA,GAAGC;AAAA,KAELC,MACG;AACH,UAAM,CAACC,GAAcC,CAAe,IAAIC,EAASb,CAAK;AAEtD,IAAAc,EAAU,MAAM;AACd,UAAI,CAAClB,GAAe;AAClB,QAAAgB,EAAgBZ,CAAK;AACrB;AAAA,MAAA;AAGI,YAAAe,IAAW,YAAY,MAAM;AACjC,QAAAH,EAAgB,CAACI,MAAM;AACrB,gBAAMC,IAAWD,KAAKd,IAAWD,IAAWe,IAAIlB;AAChD,iBAAAC,IAAgBkB,CAAQ,GACjBA;AAAA,QAAA,CACR;AAAA,SACApB,CAAiB;AAEb,aAAA,MAAM,cAAckB,CAAQ;AAAA,IAAA,GAClC;AAAA,MACDnB;AAAA,MACAI;AAAA,MACAH;AAAA,MACAC;AAAA,MACAI;AAAA,MACAD;AAAA,MACAF;AAAA,IAAA,CACD;AAWD,UAAMmB,IAAwB;AAAA,MAC5B,GAAG1B;AAAA,MACH,GAAGiB;AAAA,MACH,KAAAC;AAAA,MACA,OAAOC;AAAA,MACP,UAAAV;AAAA,MACA,UAAAC;AAAA,MACA,eAAAC;AAAA,MACA,aAjBoB,MAAiB;AACrC,YAAIC,MAAe;AACV,iBAAAA;AAGH,cAAAe,KAAcR,IAAeV,MAAaC,IAAWD;AAC3D,eAAO,IAAI,KAAK,aAAa,QAAWE,CAAa,EAAE,OAAOgB,CAAU;AAAA,MAC1E,GAU4B;AAAA,MAC1B,gBAAAb;AAAA,MACA,OAAAC;AAAA,MACA,MAAAC;AAAA,MACA,YAAAH;AAAA,IACF;AAEO,WAAA,gBAAAe,EAACC,GAAsB,EAAA,GAAGH,EAAuB,CAAA;AAAA,EAAA;AAE5D;AAEAxB,EAAiB,cAAc;"}