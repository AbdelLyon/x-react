{"version":3,"file":"x-react.es.js","sources":["../../../src/hooks/useClickOutside.ts"],"sourcesContent":["import { useEffect, useRef } from \"react\";\n\nconst DEFAULT_EVENTS = [\"mousedown\", \"touchstart\"];\n\nexport const useClickOutside = <T extends HTMLElement>(\n  handler: () => void,\n  events?: string[] | null,\n  nodes?: (HTMLElement | null)[],\n): React.RefObject<T | null> => {\n  const ref = useRef<T>(null);\n\n  useEffect(() => {\n    const listener = (event: Event): void => {\n      const { target } = event ?? {};\n      if (Array.isArray(nodes)) {\n        const shouldIgnore =\n          (target as HTMLElement)?.hasAttribute(\"data-ignore-outside-clicks\") ||\n          (!document.body.contains(target as Node) &&\n            (target as HTMLElement).tagName !== \"HTML\");\n        const shouldTrigger = nodes.every(\n          (node) => !!node && !event.composedPath().includes(node),\n        );\n        if (shouldTrigger && !shouldIgnore) {\n          handler();\n        }\n      } else if (ref.current && !ref.current.contains(target as Node)) {\n        handler();\n      }\n    };\n\n    (events || DEFAULT_EVENTS).forEach((fn) =>\n      document.addEventListener(fn, listener),\n    );\n\n    return () => {\n      (events || DEFAULT_EVENTS).forEach((fn) =>\n        document.removeEventListener(fn, listener),\n      );\n    };\n  }, [ref, handler, nodes]);\n\n  return ref;\n};\n"],"names":[],"mappings":";AAEA,MAAM,iBAAiB,CAAC,aAAa,YAAY;AAE1C,MAAM,kBAAkB,CAC7B,SACA,QACA,UAC8B;AACxB,QAAA,MAAM,OAAU,IAAI;AAE1B,YAAU,MAAM;AACR,UAAA,WAAW,CAAC,UAAuB;AACvC,YAAM,EAAE,WAAW,SAAS,CAAC;AACzB,UAAA,MAAM,QAAQ,KAAK,GAAG;AACxB,cAAM,gBACH,iCAAwB,aAAa,kCACrC,CAAC,SAAS,KAAK,SAAS,MAAc,KACpC,OAAuB,YAAY;AACxC,cAAM,gBAAgB,MAAM;AAAA,UAC1B,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,MAAM,aAAA,EAAe,SAAS,IAAI;AAAA,QACzD;AACI,YAAA,iBAAiB,CAAC,cAAc;AAC1B,kBAAA;AAAA,QAAA;AAAA,MACV,WACS,IAAI,WAAW,CAAC,IAAI,QAAQ,SAAS,MAAc,GAAG;AACvD,gBAAA;AAAA,MAAA;AAAA,IAEZ;AAEA,KAAC,UAAU,gBAAgB;AAAA,MAAQ,CAAC,OAClC,SAAS,iBAAiB,IAAI,QAAQ;AAAA,IACxC;AAEA,WAAO,MAAM;AACX,OAAC,UAAU,gBAAgB;AAAA,QAAQ,CAAC,OAClC,SAAS,oBAAoB,IAAI,QAAQ;AAAA,MAC3C;AAAA,IACF;AAAA,EACC,GAAA,CAAC,KAAK,SAAS,KAAK,CAAC;AAEjB,SAAA;AACT;"}