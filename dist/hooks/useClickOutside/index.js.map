{"version":3,"file":"index.js","sources":["../../../src/hooks/useClickOutside.ts"],"sourcesContent":["import { useEffect, useRef } from \"react\";\n\nconst DEFAULT_EVENTS = [\"mousedown\", \"touchstart\"];\n\nexport const useClickOutside = <T extends HTMLElement>(\n  handler: () => void,\n  events?: string[] | null,\n  nodes?: (HTMLElement | null)[],\n): React.RefObject<T | null> => {\n  const ref = useRef<T>(null);\n\n  useEffect(() => {\n    const listener = (event: Event): void => {\n      const { target } = event ?? {};\n      if (Array.isArray(nodes)) {\n        const shouldIgnore =\n          (target as HTMLElement)?.hasAttribute(\"data-ignore-outside-clicks\") ||\n          (!document.body.contains(target as Node) &&\n            (target as HTMLElement).tagName !== \"HTML\");\n        const shouldTrigger = nodes.every(\n          (node) => !!node && !event.composedPath().includes(node),\n        );\n        if (shouldTrigger && !shouldIgnore) {\n          handler();\n        }\n      } else if (ref.current && !ref.current.contains(target as Node)) {\n        handler();\n      }\n    };\n\n    (events || DEFAULT_EVENTS).forEach((fn) =>\n      document.addEventListener(fn, listener),\n    );\n\n    return () => {\n      (events || DEFAULT_EVENTS).forEach((fn) =>\n        document.removeEventListener(fn, listener),\n      );\n    };\n  }, [ref, handler, nodes]);\n\n  return ref;\n};\n"],"names":["DEFAULT_EVENTS","useClickOutside","handler","events","nodes","ref","useRef","useEffect","listener","event","target","shouldIgnore","node","fn"],"mappings":";AAEA,MAAMA,IAAiB,CAAC,aAAa,YAAY,GAEpCC,IAAkB,CAC7BC,GACAC,GACAC,MAC8B;AACxB,QAAAC,IAAMC,EAAU,IAAI;AAE1B,SAAAC,EAAU,MAAM;AACR,UAAAC,IAAW,CAACC,MAAuB;AACvC,YAAM,EAAE,QAAAC,MAAWD,KAAS,CAAC;AACzB,UAAA,MAAM,QAAQL,CAAK,GAAG;AACxB,cAAMO,IACHD,GAAwB,aAAa,4BAA4B,KACjE,CAAC,SAAS,KAAK,SAASA,CAAc,KACpCA,EAAuB,YAAY;AAIpC,QAHkBN,EAAM;AAAA,UAC1B,CAACQ,MAAS,CAAC,CAACA,KAAQ,CAACH,EAAM,aAAA,EAAe,SAASG,CAAI;AAAA,QACzD,KACqB,CAACD,KACZT,EAAA;AAAA,MACV,MACF,CAAWG,EAAI,WAAW,CAACA,EAAI,QAAQ,SAASK,CAAc,KACpDR,EAAA;AAAA,IAEZ;AAEA,YAACC,KAAUH,GAAgB;AAAA,MAAQ,CAACa,MAClC,SAAS,iBAAiBA,GAAIL,CAAQ;AAAA,IACxC,GAEO,MAAM;AACX,OAACL,KAAUH,GAAgB;AAAA,QAAQ,CAACa,MAClC,SAAS,oBAAoBA,GAAIL,CAAQ;AAAA,MAC3C;AAAA,IACF;AAAA,EACC,GAAA,CAACH,GAAKH,GAASE,CAAK,CAAC,GAEjBC;AACT;"}