{"version":3,"file":"x-react.es.js","sources":["../../../src/hooks/useReactiveSet.ts"],"sourcesContent":["import { useRef } from \"react\";\nimport { useRerender } from \"./useRerender\";\n\ntype ReactiveSet<T> = Set<T>;\n\nexport const useReactiveSet = <T>(values?: T[]): ReactiveSet<T> => {\n  const setRef = useRef<ReactiveSet<T>>(new Set(values));\n  const forceUpdate = useRerender();\n\n  setRef.current.add = (...args: Parameters<Set<T>[\"add\"]>): ReactiveSet<T> => {\n    const res = Set.prototype.add.apply(setRef.current, args);\n    forceUpdate();\n    return res;\n  };\n\n  setRef.current.clear = (...args: Parameters<Set<T>[\"clear\"]>): void => {\n    Set.prototype.clear.apply(setRef.current, args);\n    forceUpdate();\n  };\n\n  setRef.current.delete = (...args: Parameters<Set<T>[\"delete\"]>): boolean => {\n    const res = Set.prototype.delete.apply(setRef.current, args);\n    forceUpdate();\n    return res;\n  };\n\n  return setRef.current;\n};\n"],"names":[],"mappings":";;AAKa,MAAA,iBAAiB,CAAI,WAAiC;AACjE,QAAM,SAAS,OAAuB,IAAI,IAAI,MAAM,CAAC;AACrD,QAAM,cAAc,YAAY;AAEzB,SAAA,QAAQ,MAAM,IAAI,SAAoD;AAC3E,UAAM,MAAM,IAAI,UAAU,IAAI,MAAM,OAAO,SAAS,IAAI;AAC5C,gBAAA;AACL,WAAA;AAAA,EACT;AAEO,SAAA,QAAQ,QAAQ,IAAI,SAA4C;AACrE,QAAI,UAAU,MAAM,MAAM,OAAO,SAAS,IAAI;AAClC,gBAAA;AAAA,EACd;AAEO,SAAA,QAAQ,SAAS,IAAI,SAAgD;AAC1E,UAAM,MAAM,IAAI,UAAU,OAAO,MAAM,OAAO,SAAS,IAAI;AAC/C,gBAAA;AACL,WAAA;AAAA,EACT;AAEA,SAAO,OAAO;AAChB;"}