{"version":3,"file":"index.js","sources":["../../../src/hooks/useReactiveSet.ts"],"sourcesContent":["import { useRef } from \"react\";\nimport { useRerender } from \"./useRerender\";\n\ntype ReactiveSet<T> = Set<T>;\n\nexport const useReactiveSet = <T>(values?: T[]): ReactiveSet<T> => {\n  const setRef = useRef<ReactiveSet<T>>(new Set(values));\n  const forceUpdate = useRerender();\n\n  setRef.current.add = (...args: Parameters<Set<T>[\"add\"]>): ReactiveSet<T> => {\n    const res = Set.prototype.add.apply(setRef.current, args);\n    forceUpdate();\n    return res;\n  };\n\n  setRef.current.clear = (...args: Parameters<Set<T>[\"clear\"]>): void => {\n    Set.prototype.clear.apply(setRef.current, args);\n    forceUpdate();\n  };\n\n  setRef.current.delete = (...args: Parameters<Set<T>[\"delete\"]>): boolean => {\n    const res = Set.prototype.delete.apply(setRef.current, args);\n    forceUpdate();\n    return res;\n  };\n\n  return setRef.current;\n};\n"],"names":["useReactiveSet","values","setRef","useRef","forceUpdate","useRerender","args","res"],"mappings":";;AAKa,MAAAA,IAAiB,CAAIC,MAAiC;AACjE,QAAMC,IAASC,EAAuB,IAAI,IAAIF,CAAM,CAAC,GAC/CG,IAAcC,EAAY;AAEzB,SAAAH,EAAA,QAAQ,MAAM,IAAII,MAAoD;AAC3E,UAAMC,IAAM,IAAI,UAAU,IAAI,MAAML,EAAO,SAASI,CAAI;AAC5C,WAAAF,EAAA,GACLG;AAAA,EACT,GAEOL,EAAA,QAAQ,QAAQ,IAAII,MAA4C;AACrE,QAAI,UAAU,MAAM,MAAMJ,EAAO,SAASI,CAAI,GAClCF,EAAA;AAAA,EACd,GAEOF,EAAA,QAAQ,SAAS,IAAII,MAAgD;AAC1E,UAAMC,IAAM,IAAI,UAAU,OAAO,MAAML,EAAO,SAASI,CAAI;AAC/C,WAAAF,EAAA,GACLG;AAAA,EACT,GAEOL,EAAO;AAChB;"}