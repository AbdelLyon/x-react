{"version":3,"file":"x-react.es.js","sources":["../../../src/form/InfiniteSelect.tsx"],"sourcesContent":["import { useInfiniteScroll } from \"@/hooks\";\nimport { useInfiniteList } from \"@/hooks/useInfiniteList\";\nimport { Select, SelectItem } from \"@nextui-org/react\";\nimport type { JSX } from \"react\";\nimport { useState } from \"react\";\n\ninterface InfiniteSelectProps<T> {\n  fetchFunction: (\n    offset: number,\n    limit: number,\n  ) => Promise<{\n    items: T[];\n    hasMore: boolean;\n  }>;\n  fetchDelay?: number;\n  limit?: number;\n  className?: string;\n  renderItem: (item: T) => React.ReactNode;\n  getItemKey: (item: T) => string | number;\n  selectionMode?: \"single\" | \"multiple\";\n}\n\nexport function InfiniteSelect<T extends object>({\n  fetchFunction,\n  fetchDelay = 0,\n  limit = 10,\n  className = \"max-w-xs\",\n  renderItem,\n  getItemKey,\n  selectionMode = \"single\",\n}: InfiniteSelectProps<T>): JSX.Element {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const { items, hasMore, isLoading, onLoadMore } = useInfiniteList({\n    fetchFunction,\n    fetchDelay,\n    limit,\n  });\n\n  const [, scrollerRef] = useInfiniteScroll({\n    hasMore,\n    isEnabled: isOpen,\n    shouldUseLoader: false,\n    onLoadMore,\n  });\n\n  return (\n    <Select\n      className={className}\n      isLoading={isLoading}\n      items={items}\n      scrollRef={scrollerRef}\n      selectionMode={selectionMode}\n      onOpenChange={setIsOpen}\n    >\n      {(item: T) => (\n        <SelectItem key={getItemKey(item)}>{renderItem(item)}</SelectItem>\n      )}\n    </Select>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAsBO,SAAS,eAAiC;AAAA,EAC/C;AAAA,EACA,aAAa;AAAA,EACb,QAAQ;AAAA,EACR,YAAY;AAAA,EACZ;AAAA,EACA;AAAA,EACA,gBAAgB;AAClB,GAAwC;AACtC,QAAM,CAAC,QAAQ,SAAS,IAAI,SAAS,KAAK;AAE1C,QAAM,EAAE,OAAO,SAAS,WAAW,WAAA,IAAe,gBAAgB;AAAA,IAChE;AAAA,IACA;AAAA,IACA;AAAA,EAAA,CACD;AAED,QAAM,CAAG,EAAA,WAAW,IAAI,kBAAkB;AAAA,IACxC;AAAA,IACA,WAAW;AAAA,IACX,iBAAiB;AAAA,IACjB;AAAA,EAAA,CACD;AAGC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA;AAAA,MACA;AAAA,MACA,WAAW;AAAA,MACX;AAAA,MACA,cAAc;AAAA,MAEb,UAAA,CAAC,SACC,oBAAA,YAAA,EAAmC,qBAAW,IAAI,KAAlC,WAAW,IAAI,CAAqB;AAAA,IAAA;AAAA,EAEzD;AAEJ;"}