{"version":3,"file":"index.js","sources":["../../../src/form/InfiniteSelect.tsx"],"sourcesContent":["import { useInfiniteScroll } from \"@/hooks\";\nimport { useInfiniteList } from \"@/hooks/useInfiniteList\";\nimport { Select, SelectItem } from \"@nextui-org/react\";\nimport type { JSX } from \"react\";\nimport { useState } from \"react\";\n\ninterface InfiniteSelectProps<T> {\n  fetchFunction: (\n    offset: number,\n    limit: number,\n  ) => Promise<{\n    items: T[];\n    hasMore: boolean;\n  }>;\n  fetchDelay?: number;\n  limit?: number;\n  className?: string;\n  renderItem: (item: T) => React.ReactNode;\n  getItemKey: (item: T) => string | number;\n  selectionMode?: \"single\" | \"multiple\";\n}\n\nexport function InfiniteSelect<T extends object>({\n  fetchFunction,\n  fetchDelay = 0,\n  limit = 10,\n  className = \"max-w-xs\",\n  renderItem,\n  getItemKey,\n  selectionMode = \"single\",\n}: InfiniteSelectProps<T>): JSX.Element {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const { items, hasMore, isLoading, onLoadMore } = useInfiniteList({\n    fetchFunction,\n    fetchDelay,\n    limit,\n  });\n\n  const [, scrollerRef] = useInfiniteScroll({\n    hasMore,\n    isEnabled: isOpen,\n    shouldUseLoader: false,\n    onLoadMore,\n  });\n\n  return (\n    <Select\n      className={className}\n      isLoading={isLoading}\n      items={items}\n      scrollRef={scrollerRef}\n      selectionMode={selectionMode}\n      onOpenChange={setIsOpen}\n    >\n      {(item: T) => (\n        <SelectItem key={getItemKey(item)}>{renderItem(item)}</SelectItem>\n      )}\n    </Select>\n  );\n}\n"],"names":["InfiniteSelect","fetchFunction","fetchDelay","limit","className","renderItem","getItemKey","selectionMode","isOpen","setIsOpen","useState","items","hasMore","isLoading","onLoadMore","useInfiniteList","scrollerRef","useInfiniteScroll","jsx","Select","item","SelectItem"],"mappings":";;;;;AAsBO,SAASA,EAAiC;AAAA,EAC/C,eAAAC;AAAA,EACA,YAAAC,IAAa;AAAA,EACb,OAAAC,IAAQ;AAAA,EACR,WAAAC,IAAY;AAAA,EACZ,YAAAC;AAAA,EACA,YAAAC;AAAA,EACA,eAAAC,IAAgB;AAClB,GAAwC;AACtC,QAAM,CAACC,GAAQC,CAAS,IAAIC,EAAS,EAAK,GAEpC,EAAE,OAAAC,GAAO,SAAAC,GAAS,WAAAC,GAAW,YAAAC,EAAA,IAAeC,EAAgB;AAAA,IAChE,eAAAd;AAAA,IACA,YAAAC;AAAA,IACA,OAAAC;AAAA,EAAA,CACD,GAEK,CAAG,EAAAa,CAAW,IAAIC,EAAkB;AAAA,IACxC,SAAAL;AAAA,IACA,WAAWJ;AAAA,IACX,iBAAiB;AAAA,IACjB,YAAAM;AAAA,EAAA,CACD;AAGC,SAAA,gBAAAI;AAAA,IAACC;AAAA,IAAA;AAAA,MACC,WAAAf;AAAA,MACA,WAAAS;AAAA,MACA,OAAAF;AAAA,MACA,WAAWK;AAAA,MACX,eAAAT;AAAA,MACA,cAAcE;AAAA,MAEb,UAAA,CAACW,MACC,gBAAAF,EAAAG,GAAA,EAAmC,YAAWD,CAAI,KAAlCd,EAAWc,CAAI,CAAqB;AAAA,IAAA;AAAA,EAEzD;AAEJ;"}